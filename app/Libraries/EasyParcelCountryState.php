<?php

namespace App\Libraries;

class EasyParcelCountryState
{
	public function getCountryCode($country)
	{
		$countryCodeList = [
			'SURINAME' => 'SR',
			'SUDAN' => 'SD',
			'ST. VINCENT' => 'VC',
			'ST. MAARTEN' => 'XM',
			'ST. LUCIA' => 'LC',
			'ST. KITTS' => 'KN',
			'ST. EUSTATIUS' => 'XE',
			'ST. BARTHELEMY' => 'BL',
			'SRI LANKA' => 'LK',
			'SPAIN' => 'ES',
			'SOUTH AFRICA' => 'ZA',
			'SOMALILAND (NORTH SOMALIA)' => 'XS',
			'SOMALIA' => 'SO',
			'SOLOMON ISLANDS' => 'SB',
			'SLOVENIA' => 'SI',
			'SLOVAKIA' => 'SK',
			'SINGAPORE' => 'SG',
			'SIERRA LEONE' => 'SL',
			'SEYCHELLES' => 'SC',
			'SERBIA' => 'RS',
			'SENEGAL' => 'SN',
			'SAUDI ARABIA' => 'SA',
			'SAO TOME AND PRINCIPE' => 'ST',
			'SAN MARINO' => 'SM',
			'SAMOA' => 'WS',
			'SAIPAN' => 'MP',
			'RWANDA' => 'RW',
			'RUSSIAN FEDERATION' => 'RU',
			'ROMANIA' => 'RO',
			'REUNION' => 'RE',
			'QATAR' => 'QA',
			'PUERTO RICO' => 'PR',
			'PORTUGAL' => 'PT',
			'POLAND' => 'PL',
			'PHILIPPINES' => 'PH',
			'PERU' => 'PE',
			'PARAGUAY' => 'PY',
			'PAPUA NEW GUINEA' => 'PG',
			'PANAMA' => 'PA',
			'PALAU' => 'PW',
			'PAKISTAN' => 'PK',
			'OMAN' => 'OM',
			'NORWAY' => 'NO',
			'NIUE' => 'NU',
			'NIGERIA' => 'NG',
			'NIGER' => 'NE',
			'NICARAGUA' => 'NI',
			'NEW ZEALAND' => 'NZ',
			'NEW CALEDONIA' => 'NC',
			'NEVIS' => 'XN',
			'NETHERLANDS' => 'NL',
			'NEPAL' => 'NP',
			'NAURU' => 'NR',
			'NAMIBIA' => 'NA',
			'MYANMAR' => 'MM',
			'MOROCCO' => 'MA',
			'MONTSERRAT' => 'MS',
			'MONTENEGRO' => 'ME',
			'MONGOLIA	' => 'MN',
			'MONACO' => 'MC',
			'MOLDOVA, REPUBLIC OF' => 'MD',
			'MICRONESIA, FEDERATED STATES OF' => 'FM',
			'MEXICO' => 'MX',
			'MAYOTTE' => 'YT',
			'MAURITIUS' => 'MU',
			'MAURITANIA' => 'MR',
			'MARTINIQUE' => 'MQ',
			'MARSHALL ISLANDS' => 'MH',
			'MALTA' => 'MT',
			'MALI' => 'ML',
			'MALDIVES' => 'MV',
			'MALAWI' => 'MW',
			'MALAYSIA' => 'MY',
			'MADAGASCAR' => 'MG',
			'MACEDONIA, THE FORMER YUGOSLAV REPUBLIC OF' => 'MK',
			'MACAU' => 'MO',
			'LUXEMBOURG' => 'LU',
			'LITHUANIA' => 'LT',
			'LIECHTENSTEIN' => 'LI',
			'LIBYA' => 'LY',
			'LIBERIA' => 'LR',
			'LESOTHO' => 'LS',
			'LEBANON' => 'LB',
			'LATVIA' => 'LV',
			"LAO PEOPLE'S DEMOCRATIC REPUBLIC" => 'LA',
			'KYRGYZSTAN' => 'KG',
			'KUWAIT' => 'KW',
			'KOSOVO' => 'XK',
			'KOREA, REPUBLIC OF' => 'KR',
			"KOREA, DEMOCRATIC PEOPLE'S REPUBLIC OF" => 'KP',
			'KIRIBATI' => 'KI',
			'KENYA' => 'KE',
			'KAZAKHSTAN' => 'KZ',
			'JORDAN' => 'JO',
			'JERSEY' => 'JE',
			'JAPAN' => 'JP',
			'JAMAICA' => 'JM',
			'ITALY' => 'IT',
			'ISRAEL' => 'IL',
			'IRELAND' => 'IE',
			'IRAQ' => 'IQ',
			'IRAN, ISLAMIC REPUBLIC OF' => 'IR',
			'INDONESIA' => 'ID',
			'INDIA' => 'IN',
			'ICELAND' => 'IS',
			'HUNGARY' => 'HU',
			'HONG KONG' => 'HK',
			'HONDURAS' => 'HN',
			'HAITI' => 'HT',
			'GUYANA' => 'GY',
			'GUINEA BISSAU' => 'GW',
			'GUINEA REPUBLIC' => 'GN',
			'GUERNSEY' => 'GG',
			'GUATEMALA' => 'GT',
			'GUAM' => 'GU',
			'GUADELOUPE' => 'GP',
			'GRENADA' => 'GD',
			'GREENLAND' => 'GL',
			'GREECE' => 'GR',
			'GIBRALTAR' => 'GI',
			'GHANA' => 'GH',
			'GERMANY' => 'DE',
			'GEORGIA' => 'GE',
			'GAMBIA' => 'GM',
			'GABON' => 'GA',
			'ZIMBABWE' => 'ZW',
			'FRANCE' => 'FR',
			'FINLAND' => 'FI',
			'ZAMBIA' => 'ZM',
			'FIJI' => 'FJ',
			'YEMEN' => 'YE',
			'FAROE ISLANDS' => 'FO',
			'FALKLAND ISLANDS (MALVINAS)' => 'FK',
			'ETHIOPIA' => 'ET',
			'VIRGIN ISLANDS, U.S.' => 'VI',
			'ESTONIA' => 'EE',
			'VIRGIN ISLANDS, BRITISH' => 'VG',
			'ERITREA' => 'ER',
			'EQUATORIAL GUINEA' => 'GQ',
			'EL SALVADOR' => 'SV',
			'EGYPT' => 'EG',
			'VIETNAM' => 'VN',
			'ECUADOR' => 'EC',
			'EAST TIMOR' => 'TP',
			'VENEZUELA' => 'VE',
			'DOMINICAN REPUBLIC' => 'DO',
			'DOMINICA' => 'DM',
			'DJIBOUTI' => 'DJ',
			'VANUATU' => 'VU',
			'DENMARK' => 'DK',
			'CZECH REPUBLIC' => 'CZ',
			'CYPRUS' => 'CY',
			'CUBA' => 'CU',
			'UZBEKISTAN' => 'UZ',
			'URUGUAY' => 'UY',
			'CROATIA' => 'HR',
			"COTE D'IVOIRE" => 'CI',
			'COSTA RICA' => 'CR',
			'COOK ISLANDS' => 'CK	',
			'CONGO, THE DEMOCRATIC REPUBLIC OF THE' => 'CD',
			'UNITED STATES MINOR OUTLYING ISLANDS' => 'UM',
			'CONGO' => 'CG',
			'COMOROS' => 'KM',
			'CHINA' => 'CN',
			'UNITED STATES' => 'US',
			'FRENCH GUIANA' => 'GF',
			'NETHERLANDS ANTILLES' => 'AN',
			'MOZAMBIQUE' => 'MZ',
			'CURACAO' => 'CW',
			'COLOMBIA' => 'CO',
			'CHILE' => 'CL',
			'CHAD' => 'TD',
			'CENTRAL AFRICAN REPUBLIC' => 'CF',
			'CAYMAN ISLANDS' => 'KY',
			'UNITED KINGDOM' => 'GB',
			'CAPE VERDE' => 'CV',
			'UNITED ARAB EMIRATES' => 'AE',
			'CANARY ISLANDS, THE' => 'IC',
			'CANADA' => 'CA',
			'UKRAINE' => 'UA',
			'CAMEROON' => 'CM',
			'CAMBODIA' => 'KH',
			'UGANDA' => 'UG',
			'BURUNDI' => 'BI',
			'BURKINA FASO' => 'BF',
			'BULGARIA' => 'BG',
			'BRUNEI DARUSSALAM' => 'BN',
			'TUVALU' => 'TV',
			'BRAZIL' => 'BR',
			'TURKS AND CAICOS ISLANDS' => 'TC',
			'TURKMENISTAN' => 'TM',
			'BOTSWANA' => 'BW',
			'BOSNIA AND HERZEGOVINA' => 'BA',
			'BONAIRE' => 'BQ',
			'BOLIVIA' => 'BO',
			'BHUTAN' => 'BT',
			'TURKEY' => 'TR',
			'BERMUDA' => 'BM',
			'TUNISIA' => 'TN',
			'BENIN' => 'BJ',
			'TRINIDAD AND TOBAGO' => 'TT',
			'BELIZE' => 'BZ',
			'TONGA' => 'TO',
			'BELGIUM' => 'BE',
			'TOGO' => 'TG',
			'BELARUS' => 'BY',
			'BARBADOS' => 'BB',
			'BANGLADESH' => 'BD',
			'BAHRAIN' => 'BH',
			'THAILAND' => 'TH',
			'BAHAMAS' => 'BS',
			'TANZANIA' => 'TZ',
			'AZERBAIJAN' => 'AZ',
			'TAJIKISTAN' => 'TJ',
			'AUSTRIA' => 'AT',
			'AUSTRALIA' => 'AU',
			'TAIWAN' => 'TW',
			'TAHITI' => 'PF',
			'ARUBA' => 'AW',
			'ARMENIA' => 'AM',
			'SYRIA' => 'SY',
			'ARGENTINA' => 'AR',
			'ANTIGUA' => 'AG',
			'ANGUILLA' => 'AI',
			'SWITZERLAND' => 'CH',
			'ANGOLA' => 'AO',
			'ANDORRA' => 'AD',
			'SWEDEN' => 'SE',
			'AMERICAN SAMOA' => 'AS',
			'SWAZILAND' => 'SZ',
			'ALGERIA' => 'DZ',
			'ALBANIA' => 'AL',
			'AFGHANISTAN' => 'AF',
		];

		$countryCode = '';
		foreach ($countryCodeList as $key => $value) {
			if (strtolower($key) === strtolower($country))  $countryCode = $value;
		}
		return $countryCode;
	}

	// State of easyparcel supported country
	public function getStateCode($country, $state)
	{
		$stateList = [
			'malaysia' => [
				'johor' => 'jhr',
				'kedah' => 'kdh',
				'kelantan' => 'ktn',
				'melaka' => 'mlk',
				'negeri sembilan' => 'nsn',
				'pahang' => 'phg',
				'perak' => 'prk',
				'perlis' => 'pls',
				'pulau pinang' => 'png',
				'penang' => 'png',
				'selangor' => 'sgr',
				'terengganu' => 'trg',
				'sarawak' => 'srw',
				'sabah' => 'sbh',
				'wilayah persekutuan (kuala lumpur)' => 'kul',
				'kuala lumpur' => 'kul',
				'wilayah persekutuan (labuan)' => 'lbn',
				'labuan' => 'lbn',
				'wilayah persekutuan (putrajaya)' => 'pjy',
				'putra jaya' => 'pjy',
			],
			'thailand' => [
				'Amnat Charoen' => 'acr',
				'Ang Thong' => 'atg',
				'Ayutthaya' => 'aya',
				'Bangkok' => 'bkk',
				'Bueng Kan' => 'bkn',
				'Buriram' => 'brm',
				'Chonburi' => 'cbi',
				'Chachoengsao' => 'cco',
				'Chiang Mai' => 'cmi',
				'Chainat' => 'cnt',
				'Chaiyaphum' => 'cpm',
				'Chumphon' => 'cpn',
				'Chiang Rai' => 'cri',
				'Chanthaburi' => 'cti',
				'Krabi' => 'kbi',
				'Khon Kaen' => 'kkn',
				'Kamphaeng Phet' => 'kpt',
				'Kanchanaburi' => 'kri',
				'Kalasin' => 'ksn',
				'Loei' => 'lei',
				'Lampang' => 'lpg',
				'Lamphun' => 'lpn',
				'Lopburi' => 'lri',
				'Mukdahan' => 'mdh',
				'Maha Sarakham' => 'mkm',
				'Mae Hong Son' => 'msn',
				'Nonthaburi' => 'nbi',
				'Nongbua Lamphu' => 'nbp',
				'Nong Khai' => 'nki',
				'Nakhon Ratchasima' => 'nma',
				'Nakhon Phanom' => 'npm',
				'Nakhon Pathom' => 'npt',
				'Nakhon Si Thammarat' => 'nrt',
				'Nakhon Sawan' => 'nsn',
				'Narathiwat' => 'nwt',
				'Nakhon Nayok' => 'nyk',
				'Phetchaburi' => 'pbi',
				'Phichit' => 'pct',
				'Prachuap Khiri Khan' => 'pkn',
				'Phuket' => 'pkt',
				'Phatthalung' => 'plg',
				'Phitsanulok' => 'plk',
				'Phang Nga' => 'pna',
				'Phetchabun' => 'pnb',
				'Phrae' => 'pre',
				'Prachinburi' => 'pri',
				'Pathum Thani' => 'pte',
				'Pattani' => 'ptn',
				'Phayao' => 'pyo',
				'Ratchaburi' => 'rbr',
				'Roi Et' => 'ret',
				'Ranong' => 'rng',
				'Rayong' => 'ryg',
				'Sing Buri' => 'sbr',
				'Songkhla' => 'ska',
				'Samut Songkhram' => 'skm',
				'Samut Sakhon' => 'skn',
				'Sa Kaeo' => 'skw',
				'Surat Thani' => 'sni',
				'Sakon Nakhon' => 'snk',
				'Suphanburi' => 'spb',
				'Samut Prakan' => 'spk',
				'Saraburi' => 'sri',
				'Surin' => 'srn',
				'Sisaket' => 'ssk',
				'Sukhothai' => 'sti',
				'Satun' => 'stn',
				'Tak' => 'tak',
				'Trang' => 'trg',
				'Trat' => 'trt',
				'Ubon Ratchathani' => 'ubn',
				'Udon Thani' => 'udn',
				'Uttaradit' => 'utd',
				'Uthai Thani' => 'uti',
				'Yala' => 'yla',
				'Yasothon' => 'yst',
			],
			'indonesia' => [
				'Nanggroe Aceh Darussalam (NAD)' => 'ac',
				'Bali' => 'ba',
				'Bangka Belitung' => 'bb',
				'Bengkulu' => 'be',
				'Banten' => 'bt',
				'Gorontalo' => 'go',
				'Jambi' => 'ja',
				'Jawa Barat' => 'jb',
				'Jawa Timur' => 'ji',
				'DKI Jakarta' => 'jk',
				'Jawa Tengah' => 'jt',
				'Kalimantan Barat' => 'kb',
				'Kalimantan Timur' => 'ki',
				'Kepulauan Riau' => 'kr',
				'Kalimantan Selatan' => 'ks',
				'Kalimantan Tengah' => 'kt',
				'Kalimantan Utara' => 'ku',
				'Lampung' => 'la',
				'Maluku' => 'ma',
				'Maluku Utara' => 'mu',
				'Nusa Tenggara Barat (NTB)' => 'nb',
				'Nusa Tenggara Timur (NTT)' => 'nt',
				'Papua' => 'pa',
				'Papua Barat' => 'pb',
				'Riau' => 'ri',
				'Sulawesi Utara' => 'sa',
				'Sumatera Barat' => 'sb',
				'Sulawesi Tenggara' => 'sg',
				'Sulawesi Selatan' => 'sn',
				'Sulawesi Barat' => 'sr',
				'Sumatera Selatan' => 'ss',
				'Sulawesi Tengah' => 'st',
				'Sumatera Utara' => 'su',
				'DI Yogyakarta' => 'yo',
			],
		];

		$stateCode = '';
		if (!isset($stateList[strtolower($country)])) return '';
		$stateCodeArray = $stateList[strtolower($country)];
		foreach ($stateCodeArray as $key => $value) {
			$state1 = strtolower(preg_replace('/[^A-Za-z0-9\-]/', '', $key));
			$state2 = strtolower(preg_replace('/[^A-Za-z0-9\-]/', '', $state));
			if ($state1 === $state2) {
				$stateCode = $value;
			};
		}
		return $stateCode;
	}
}
